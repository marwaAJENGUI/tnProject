<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core" 
	template="template/#{signInController.template}.xhtml">

<h:head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Product Details</title>
</h:head>
 <f:metadata>
        <f:viewParam name="barCode" value="#{productDetailsController.barCode}" label="barCode" />
        <f:viewParam name="categoryId" value="#{productDetailsController.categoryId}" label="categoryId" />
        <f:viewAction action="#{productDetailsController.echoProduct}"/>
 </f:metadata>
<ui:param name="page_name" value="Consomi TN !"/>
		<ui:define name="product">




<f:view>
<br/>	<br/>
<div align="center"  >		
<p:panel style="width:90%; " >
<h2>Product Details</h2>
<br/><br/>

	<h:panelGrid id="Image_product" columns="2" style="  text-align: center">
			<p:graphicImage value="#{productDetailsController.productImage}" style = "width:400px;height:600px"/>		

		<h:form>
		    <p:panelGrid id="product" columns="2">
		        <p:outputLabel value="BarCode:"/>
		        <p:outputLabel value="#{productDetailsController.product.barCode}" style="font-weight: bold"/>
		        <p:outputLabel value="Name:"/>
		        <p:outputLabel value="#{productDetailsController.product.name}" style="font-weight: bold"/>
		        <p:outputLabel value="Price:"/>
		        <p:outputLabel value="#{productDetailsController.product.price}"/>
		        <p:outputLabel value="Category:"/>
		        <p:link outcome="#{productCategoryJSFController.echoCategory()}" value="#{productDetailsController.category.name}">
						<f:param name="categoryId" value="#{productDetailsController.category.id}"/>
				</p:link>
				<c:choose>
					    <c:when  test="#{signInController.isAdmin eq true}">
					    	<p:commandButton action="#{productJSFController.removeProduct(productDetailsController.product)}" value="Remove" />
							<p:commandButton action="#{productJSFController.editProduct(productDetailsController.product)}" value="Edit"/>
					    </c:when>
				</c:choose>
		    </p:panelGrid>
		  	<p:link id="back" outcome="products" value="Back to products"/>
		</h:form>
	</h:panelGrid>
</p:panel>
</div>
</f:view>
</ui:define>
</ui:composition>
